{"componentChunkName":"component---src-pages-300-integration-event-endpoint-management-demo-preparation-sandbox-mdx","path":"/300-integration-event-endpoint-management/demo-preparation-sandbox/","result":{"pageContext":{"frontmatter":{"title":"Event endpoint management 300-level live demo","description":"Event endpoint management","tabs":["Demo preparation","Demo script"]},"relativePagePath":"/300-integration-event-endpoint-management/demo-preparation-sandbox.mdx","titleType":"page","MdxNode":{"id":"8495b88a-3159-50d3-b66b-fa375a06c078","children":[],"parent":"6ebaf598-453a-52b8-9056-00fe1f81cd70","internal":{"content":"---\ntitle: Event endpoint management\n  300-level live demo\ndescription: Event endpoint management\ntabs: [ 'Demo preparation', 'Demo script']\n---\n\nexport const Title = () => (\n  <span>\n    Event endpoint management <br /> 300-level live demo\n  </span>\n);\n\n![banner](images/300-eem-prep-GitHub-banner-8-3-21-short.jpg)\n\n<span id=\"top\"></span>\n\n| DEMO OVERVIEW |                          |\n| --------------------------------------- | ------------------------------------- |\n| **Scenario overview** | This demo compares exposing data from an airport’s flight information system over REST APIs and over an event stream. A Flight Information Board will get flight information using a traditional REST API. We will then show how a new event stream for flight information on can be easily made available to the developers of an airline mobile application. This will enable the mobile app to receive flight delays the moment they occur, resulting in an improved and more marketable experience. |\n| **Demo products** | Cloud Pak for Integration |\n| **Demo capabilities** | API management; Event Streaming; Event Endpoint Management  |\n| **Demo intro slides** | Download the Introduction and Overview slides <a href=\"LINK PENDING\" target=\"_blank\" rel=\"noreferrer\">here</a>. This is a short deck of customer-facing slides that sets the context for the demo. |\n| **Demo script** | A complete demo script is on the second tab above. You can download a printer-ready PDF of the demo script <a href=\"./300-integration-event-endpoint-management-demo-script.pdf\" target=\"_blank\" rel=\"noreferrer\">here</a>. <br/><br/> This demo script has multiple tasks that each have multiple steps. In each step, you have the details about what you need to do (**Actions**), what you can say while delivering this demo step (**Narration**), and what diagrams and screenshots you will see.<br/><br/>This demo script is a suggestion, and you are welcome to customize based in your sales opportunity. Most importantly, practice this demo in advance. If the demo seems easy for you to execute, the customer will focus on the content. If it seems difficult for you to execute, the customer will focus on your delivery. |\n| **Required versions** | Cloud Pak for Integration V2022.2 |\n| **How to get support** | **For IBMers:** <br/>• Contact <a href=\"https://ibm-cloud.slack.com/archives/C0124J683GW\" target=\"_blank\" rel=\"noreferrer\">#itz-techzone-support</a> or <a href=\"mailto:techzone.help@ibm.com\">techzone.help@ibm.com</a> regarding issues with reserving and provisioning Tech Zone environments.<br/>• Contact <a href=\"https://ibm-cloud.slack.com/archives/C0216F39ACU\" target=\"_blank\" rel=\"noreferrer\">#platinumdemos-automation-support</a> regarding issues with setting up and running this demo. <br/><br/> **For Business Partners:** <br/>• Contact <a href=\"mailto:techzone.help@ibm.com\">Tech Zone Support</a> regarding issues with reserving and provisioning Tech Zone environments.<br/>• Contact <a href=\"mailto:automationplatinumdemos@ibm.com\"> Automation Platinum Demos Support</a> regarding issues with setting up and running this demo. |\n\n### **DEMO INSTALLATION AND SETUP**\n\n<details>\n\n<summary>1 - Provision Red Hat OpenShift on IBM Cloud for Cloud Pak for Integration </summary>\n<br/>\n\nInstall Cloud Pak for Integration, or provision a ROKS environment. To reserve your ROKS instance, follow these steps:\n\nProvision Red Hat OpenShift on IBM Cloud (ROKS) ready to install the Cloud Pak for Integration. To provision your ROKS instance, follow these steps: <br/><br/>\n\n1. To reserve a preinstalled Cloud Pak for Integration (CP4I) ROKS 4.10 cluster on Red Hat OpenShift, go <a href=\"https://techzone.ibm.com/my/reservations/create/62f1112aeeb0ab0017dc7608\" target=\"_blank\" rel=\"noreferrer\">here</a> and complete the form.\n<br/>\n\n2. You will receive a confirmation email confirming the instance is provisioning.\n\n<br/>\n\n3. You will receive a second email once the environment is provisioned. You should expect this to take between 30 and 120 minutes. This email contains information, such as URLs, allowing you to connect to the instance.<br/><img src=\"images/prep-1-3.png\" width=\"800\" /><br/>\n\nIf you have issues connecting to your instance, please contact <a href=\"https://ibm-cloud.slack.com/archives/C0124J683GW\" target=\"_blank\" rel=\"noreferrer\">#itz-techzone-support</a>.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<span id=\"ROKSinstall\"></span>\n\n<details>\n\n<summary>2 - Install Cloud Pak for Integration on ROKS cluster</summary>\n\n<br/>\n\n1. Click the **Cluster URL** from the enviroment confirmation email. Log into IBM Cloud using your IBMid.<br/><br/><img src=\"images/prep-2-1.png\" width=\"800\" /><br/>\n\n2. After you are logged in, click <a href=\"https://cloud.ibm.com/catalog/content/ibm-cp-integration-72f63273-f2f6-4e9c-8626-60fe798c57be-global\" target=\"_blank\" rel=\"noreferrer\">here</a> to install Cloud Pak for Integration.<br/><br/>Make sure you are in an **ITZ** account (1) and the **Product version** is **2022.2.1** (2).<br/><br/><img src=\"images/prep-2-2.png\" width=\"800\" /><br/>\n\n3. Scroll down to the **Select your cluster** section. From the list, select the **Redhat Openshift Cluster** (1) that you just created. Then click **Add project** (2).<br/><br/><img src=\"images/prep-2-3.png\" width=\"800\" /><br/>\n\n4. Enter **cp4i** as the **Project** (1) name. Click **Add** (2).<br/><br/><img src=\"images/prep-2-4.png\" width=\"800\" />\n\n<br/>\n\n5. Scroll down to the **Set the deployment values** section and toggle the **Use an existing secret?** slider to **no** (1). Enter a value for csDefaultAdminPassword (2). It is important that you choose a password that is 32 characters in length and is composed of only letters and numbers. You will need this password in step 12.<br/><br/><InlineNotification><strong>NOTE</strong>: Currently password validation is not enforced on this page. If you proceed with an invalid password you will be able to start the installation but it will fail. There is no way to recover from this error other than provisioning a new cluster.</InlineNotification><br/><img src=\"images/prep-2-5.png\" width=\"800\" /><br/>\n\n6. Scroll down to **Optional deployment values**. Click the collapsible section to open them. First, we will select the appropriate parameter for this specific demo.\n\n<br/>\n\n| FIELD | ACTION |\n| ------ | ------- |\n| **cognitiveCarRepairDemo:** | Set to ‘true’ |\n| **drivewayDentDeletionDemo:** | Set to ‘false’ |\n| **eventEnabledInsuranceDemo:** | Set to ‘false’ |\n| **mappingAssistDemo:** | Set to ‘false’ |\n| **weatherChatbotDemo:** | Set to ‘false’ |\n\n<br/><img src=\"images/prep-2-6.png\" width=\"800\" />\n\n<br/>\n\n7. Continue to change the default values parameters using the table below.<br/>If you don't have an SMTP email server and accounts that you can use, you may sign up for a free <a href=\"https://mailtrap.io\" target=\"_blank\" rel=\"noreferrer\">Mailtrap.io</a> account. Mailtrap.io is a free cloud service that mimics an SMTP server. It is used for development/demonstration purposes only.\n\n<br/>\n\n| FIELD | ACTION |\n| ------ | ------- |\n| **demoAPICMailServerHost:** (1)| If you’re using mailtrap, leave this smtp.mailtrap.io. |\n| **demoAPICMailServerPort:** (2)| If you’re using mailtrap, leave this as 2525. |\n| **demoAPICEmailAddress:** (3)| If you’re using mailtrap, you can use any email address. The dummy address ’apicadmin@example.com’ is recommended. If you’re using your own mail server, use an email address that you can receive and read. |\n| **demoAPICMialServerUsername:** (4)| Set this to your SMTP mailtrap username. This is different from your mailtrap login username and can be found by using these [instructions](https://help.mailtrap.io/article/5-smtp-integration). |\n| **demoAPICMailServerPassword:** (5)| Set this to your SMTP mailtrap password. This is different from your mailtrap login password and can be found by using these [instructions](https://help.mailtrap.io/article/5-smtp-integration).|\n\n<br/><img src=\"images/prep-2-7.png\" width=\"800\" />\n\n<br/>\n\n8. Accept the license agreement and click **Install** to install Cloud Pak for Integration. The installation will take up to 150 minutes.<br/><br/><img src=\"images/prep-2-8.png\" width=\"500\" /><br/>\n\n9. You can view the progress in the Schematics progress bar or check the details in view log.<br/><br/><img src=\"images/prep-2-9.png\" width=\"800\" /><br/>\n\n10. When the status is **Active** (1), you will be able to access Cloud Pak for Integration Platform Navigator. Select **Offering Dashboard** (2) on the upper right corner of the page.<br/><br/><img src=\"images/prep-2-10.png\" width=\"800\" /><br/>\n\n11. On the log in page, select the authentication type **IBM provided credentials (admin only)**.<br/><br/><img src=\"images/prep-2-11.png\" width=\"800\" /><br/>\n\n12. Log in using the admin Username \"admin\" and 32-character password you created in step 5.<br/><br/><img src=\"images/prep-2-12.png\" width=\"800\" /><br/>\n\n13. Click **Integration instances**.<br/><br/><img src=\"images/prep-2-13.png\" width=\"800\" />\n\n<br/>\n\n14. The parts of the Cloud Pak (API Connect, App Connect Designer, App Connect Dashboard and Asset Repository) will display here. Additional instances for any of the integration capabilities can be created by selecting **Create capability**.<br/><br/><img src=\"images/prep-2-14.png\" width=\"800\" />\n\n<br/>\n\nYou have successfully completed cluster provisioning, installation of Cloud Pak for Integration, and deployment of API Connect and App Connect. You are ready to proceed.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<span id=\"prereq\"></span>\n\n<details>\n\n<summary>3 - Access your ROKS cluster and install the command line </summary>\n<br/>\n\nIn this section, you access your ROKS cluster and install the OpenShift command line tool. If you already have the command line tool, you can proceed to **Access your ROKS cluster using CLI**.\n\n<br/>\n\n1. Open <a href=\"https://techzone.ibm.com/my/reservations\" target=\"_blank\" rel=\"noreferrer\">My reservations</a> in **IBM Technology Zone**.\n\n<br/>\n\n2. Select you **CP4I ROKS** cluster.<br/><br/><img src=\"images/prep-3-2.png\" width=\"800\" /><br/>\n\n3. Click **Open your Managed OpenShift (ROKS) environment**.<br/><br/><img src=\"./images/prep-3-3.png\" width=\"800\" /><br/>\n\n4. Click **OpenShift web console**.<br/><br/><img src=\"images/prep-3-4.png\" width=\"800\" /><br/>\n\n5. On the web console page, click **?** (1), and select **Command line tools** (2).<br/><br/><img src=\"images/prep-3-5.png\" width=\"800\" /><br/>\n\n6. Follow the links to install the OpenShift Command Line Interface (CLI) for your Operating System.<br/><br/><img src=\"images/prep-3-6.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>4 - Access your ROKS cluster using CLI</summary>\n\n<br/>\n\n1. Log into your OpenShift cluster using CLI. From the dropdown menu in the upper right of the page, under your **username** (1), click **Copy login command** (2).<br/><br/><img src=\"images/prep-4-1.png\" width=\"800\" /><br/>\n\n2. Click **Display Token**.<br/><br/><img src=\"images/prep-4-2.png\" width=\"800\" /><br/>\n\n3. Copy the **login** command.<br/><br/><img src=\"images/prep-4-3.png\" width=\"800\" /><br/>\n\n4. Open your terminal window and paste the **login command** to access your OpenShift cluster.<br/><br/><img src=\"images/prep-4-4.png\" width=\"500\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>5 - Clone the demo assets from a GitHub repository</summary>\n\n<br/>\n\n<InlineNotification>\n<strong>NOTE</strong>: To copy the repo you will need to have the <a href = \"https://cli.github.com\" target=\"_blank\" rel=\"noreferrer\">Git CLI</a> on your machine. If you don’t have it, follow the installation steps described in this page, based on your operating system.\n</InlineNotification>\n\n\n1. To download the scripts to run the demo, create a directory, and from there run the following command:\n\n<br/>\n\n```\ngit clone https://github.com/IBM/platinum-code-eem-.git\n```\n<br/><br/><img src=\"images/prep-5-1.png\" width=\"800\" /><br/>\n\n2. This will download several folders.  The demo material is in the folder ‘demo-script’.  Change directories by running:\n\n<br/>\n\n```\ncd eem-demo/scripts/\n```\n<br/><br/><img src=\"images/prep-5-2.png\" width=\"800\" /><br/>\n\nIn this directory you will see the following two files that you need to set up the demo:\n\n<br/>\n\n**setup-software.sh** - Sets up EEM and Event Streams\n**setup-app.sh** - Sets up the Flight Board application\n\n<br/><img src=\"images/prep-5-2-2.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>6 - Install IBM Event Streams and Endpoint Event Management</summary>\n\n<br/>\n\n1. Run the following command:\n\n<br/>\n\n```\n./setup-software.sh cp4i\n```\n<br/><br/><img src=\"images/prep-6-1.png\" width=\"800\" /><br/>\n\nThis could take 10-20 minutes to complete. It will be complete when Event Endpoint Management and IBM Event Streams has been installed.\n\n<br/>\n\nThe Platform Navigator and Event Streams UI endpoints are displayed at the end of the script for convenience. These will be used later.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>7 - Create the IBM Event Streams topic</summary>\n\n<br/>\n\n1. Navigate to the Event Stream UI outputted in the previous step.<br/><br/><img src=\"images/prep-7-1.png\" width=\"800\" /><br/>\n\n2. Select the **topics** (1) icon, then click **Create Topic** (2).<br/><br/><img src=\"images/prep-7-2.png\" width=\"800\" /><br/>\n\n3. Specify **flight-delays** (1) as the Topic name and select **Next** (2).<br/><br/><img src=\"images/prep-7-3.png\" width=\"800\" /><br/>\n\n4. Click **Next**.<br/><br/><img src=\"images/prep-7-4.png\" width=\"800\" /><br/>\n\n5. Click **Next**.<br/><br/><img src=\"images/prep-7-5.png\" width=\"800\" /><br/>\n\n6. Click **Create topic**.<br/><br/><img src=\"images/prep-7-6.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>8 - Install the Flight Board app</summary>\n\n<br/>\n\n1. Run the following command:\n\n<br/>\n\n```\n./setup-app.sh cp4i\n```\n<br/><br/><img src=\"images/prep-8-1.png\" width=\"800\" /><br/>\n\nThis should take a few minutes to complete.  Once this has completed, it will give you the URL to access the flight board app. There are two URLs one for the flight board, and another for the manager where flights can be delayed. Note that it uses http not https.  If you see a page saying that the application is not available, then you have probably got https in the URL.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>9 - Configure the Event Gateway within API Connect </summary>\n\n<br/>\n\n1. Open the Cloud Pak for Integration Platform Navigator Home page from section 2 above. Using the menu in the top left, expand Administration and select Integration instances.<br/><br/><img src=\"images/prep-9-1.png\" width=\"800\" /><br/>\n\n2. Select **ademo** corresponding to the **API management administration** type.<br/><br/><img src=\"images/prep-9-2.png\" width=\"800\" /><br/>\n\n3. Select **Topology** (1), and click **Register service** (2).<br/><br/><img src=\"images/prep-9-3.png\" width=\"800\" /><br/>\n\n4. Select **Event Gateway Service**.<br/><br/><img src=\"images/prep-9-4.png\" width=\"800\" /><br/>\n\n5. For the configuration of the Event Gateway Service, two endpoints are needed. To retrieve these run the ./get-url.sh script. <br/><br/><img src=\"images/prep-9-5.png\" width=\"800\" /><br/>\n\n6. Configure with the following details:<br/><br/>\n- **Title**: event-gateway-service (1) <br/>\n- **Management endpoint**: the value outputted from the above (note that this **should** begin with https://) (2) <br/>\n- **API endpoint base**: the value outputted from above (note that this should **NOT** begin with https://) (3)\n\n<br/>\n\nClick **Save** (4).<br/><br/><img src=\"images/prep-9-6.png\" width=\"800\" /><br/>\n\n7. The Event Gateway Service needs to be associated with the API Connect Catalog. Navigate to API Management by selecting the menu at the top left and selecting **APIs** under the **Design** section.<br/><br/><img src=\"images/prep-9-7.png\" width=\"800\" /><br/>\n\n8. Select **Manage** (1) and click on the **Sandbox** (2) catalog.<br/><br/><img src=\"images/prep-9-8.png\" width=\"800\" /><br/>\n\n9. Select the **Catalog settings** (1) tab, then the **Gateway** services section (2) and click **Edit** (3).<br/><br/><img src=\"images/prep-9-9.png\" width=\"800\" /><br/>\n\n10. Check the box associated with the **event-gateway-service** (1) and click **Save (2)**.<br/><br/><img src=\"images/prep-9-10.png\" width=\"800\" /><br/>\n\n11. Set up the client certificates.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>10 - Import and deploy the Flight API </summary>\n\n<br/>\n\nThe Flight API will be exposed through API Connect. This allows controlled, secure exposure to the API.\n\n<br/>\n\n1. Select the **draft** icon (1). Click **Add** and select **API** (2).<br/><br/><img src=\"images/prep-10-1.png\" width=\"800\" /><br/>\n\n2. Scroll down and select **Exiting OpenAPI** (1) and click **Next** (2).<br/><br/><img src=\"images/prep-10-2.png\" width=\"800\" /><br/>\n\n3. Specify **https://raw.githubusercontent.com/IBM/platinum-demo-code-eem/main/resources/FlightAPI.yaml** in the **Or specify a file URL** field (1) and click **Next** (2).<br/><br/><img src=\"images/prep-10-3.png\" width=\"800\" /><br/>\n\n4. Check the **Activate API** (1) option. Click **Next** (2).<br/><br/><img src=\"images/prep-10-4.png\" width=\"800\" /><br/>\n\n5. Click **Develop**.<br/><br/><img src=\"images/prep-10-5.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>11 - Create Dev User for the Developer Portal  </summary>\n\n<br/>\n\n1. Click on the **Home** icon (1), and **Manage catalogs** (2).<br/><br/><img src=\"images/prep-11-1.png\" width=\"800\" /><br/>\n\n2. Open **Sandbox**.<br/><br/><img src=\"images/prep-11-2.png\" width=\"800\" /><br/>\n\n3. Open **Catalog settings** (1), then **Portal** (2).<br/><br/><img src=\"images/prep-11-3.png\" width=\"800\" /><br/>\n\n4. Since a developer portal does not already exist, click **Create**.<br/><br/><img src=\"images/prep-11-4.png\" width=\"800\" /><br/>\n\n5. Select **portal-service** (1) from the pull down. Click **Create** (2).<br/><br/><img src=\"images/prep-11-5.png\" width=\"800\" /><br/>\n\n6. The portal will take around 5 minutes to be built, but the URL is immediately displayed. Copy the URL, open a new browser tab, and paste your **Portal URL**. It may take several minutes and browser refreshes to appear.<br/><br/><img src=\"images/prep-11-6.png\" width=\"800\" /><br/>\n\n7. On the Portal page, click **Create account**.<br/><br/><img src=\"images/prep-11-7.png\" width=\"800\" /><br/>\n\n8. Complete the form.<br/><br/>\n\n<InlineNotification><strong>SUGGESTION</strong>: Use devuser as the username, and you are welcome to use your personal email address.</InlineNotification>\n\n<br/><img src=\"images/prep-11-8.png\" width=\"800\" /><br/>\n\n9. To complete your registration, you need to open your email and accept the registration.<br/><br/>\n\n<InlineNotification><strong>NOTE</strong>: If you are using mailtrap, you need to open your mailtrap inbox and accept the registration.</InlineNotification>\n\n<br/><img src=\"images/prep-11-9.png\" width=\"800\" />\n\n<br/>\n\nCongratulations! Your portal developer user has been created and you are ready for the demo.\n\n<br/>\n\n- Download the [demo slides](./slides.pptx)\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n## **PREPARE TO GIVE THE DEMO**\n\n<details>\n\n<summary>Open these resources before starting demonstration</summary>\n\n<br/>\n\n1. Open the following tabs in a web browser:\n\n<br/>\n\n- IBM Event Streams\n- IBM Cloud Pak for Integration Platform Navigator\n- The Flight Board\n- The Flight Board Manager\n- IBM API Connect Developer Portal\n\n<br/>\n\n**TIP**: These URLs are provided as the output from the setup-software.sh and setup-app.sh scripts. For convenience you can also get the URLs for the above by running the following command from the eem-demo/scripts folder:\n\n<br/>\n\n```\n$ ./get-urls.sh\n```\n\n<br/>\n\n2. Click **Sign in** to log in to the Developer Portal using the devuser account you created in the preparation steps above.\n<br/><br/><img src=\"images/prep-demo-2.png\" width=\"800\" /><br/>\n\n<br/>\n\n3. Enter the **Username** and **Password**. Click **Sign in**.<br/><br/><img src=\"images/prep-demo-3.png\" width=\"800\" /><br/>\n\n4. Prepare a terminal by logging into the OpenShift cluster with the “Copy login command” option from the OpenShift user interface, then executing it within the terminal window.<br/><br/><img src=\"images/prep-demo-4.png\" width=\"800\" /><br/>\n\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\nClick [here](/300-integration-event-endpoint-management/demo-script) to go to the **Demo script** on the next tab.\n","type":"Mdx","contentDigest":"227446824e188a741444683c222c6cbe","owner":"gatsby-plugin-mdx","counter":2913},"frontmatter":{"title":"Event endpoint management 300-level live demo","description":"Event endpoint management","tabs":["Demo preparation","Demo script"]},"exports":{},"rawBody":"---\ntitle: Event endpoint management\n  300-level live demo\ndescription: Event endpoint management\ntabs: [ 'Demo preparation', 'Demo script']\n---\n\nexport const Title = () => (\n  <span>\n    Event endpoint management <br /> 300-level live demo\n  </span>\n);\n\n![banner](images/300-eem-prep-GitHub-banner-8-3-21-short.jpg)\n\n<span id=\"top\"></span>\n\n| DEMO OVERVIEW |                          |\n| --------------------------------------- | ------------------------------------- |\n| **Scenario overview** | This demo compares exposing data from an airport’s flight information system over REST APIs and over an event stream. A Flight Information Board will get flight information using a traditional REST API. We will then show how a new event stream for flight information on can be easily made available to the developers of an airline mobile application. This will enable the mobile app to receive flight delays the moment they occur, resulting in an improved and more marketable experience. |\n| **Demo products** | Cloud Pak for Integration |\n| **Demo capabilities** | API management; Event Streaming; Event Endpoint Management  |\n| **Demo intro slides** | Download the Introduction and Overview slides <a href=\"LINK PENDING\" target=\"_blank\" rel=\"noreferrer\">here</a>. This is a short deck of customer-facing slides that sets the context for the demo. |\n| **Demo script** | A complete demo script is on the second tab above. You can download a printer-ready PDF of the demo script <a href=\"./300-integration-event-endpoint-management-demo-script.pdf\" target=\"_blank\" rel=\"noreferrer\">here</a>. <br/><br/> This demo script has multiple tasks that each have multiple steps. In each step, you have the details about what you need to do (**Actions**), what you can say while delivering this demo step (**Narration**), and what diagrams and screenshots you will see.<br/><br/>This demo script is a suggestion, and you are welcome to customize based in your sales opportunity. Most importantly, practice this demo in advance. If the demo seems easy for you to execute, the customer will focus on the content. If it seems difficult for you to execute, the customer will focus on your delivery. |\n| **Required versions** | Cloud Pak for Integration V2022.2 |\n| **How to get support** | **For IBMers:** <br/>• Contact <a href=\"https://ibm-cloud.slack.com/archives/C0124J683GW\" target=\"_blank\" rel=\"noreferrer\">#itz-techzone-support</a> or <a href=\"mailto:techzone.help@ibm.com\">techzone.help@ibm.com</a> regarding issues with reserving and provisioning Tech Zone environments.<br/>• Contact <a href=\"https://ibm-cloud.slack.com/archives/C0216F39ACU\" target=\"_blank\" rel=\"noreferrer\">#platinumdemos-automation-support</a> regarding issues with setting up and running this demo. <br/><br/> **For Business Partners:** <br/>• Contact <a href=\"mailto:techzone.help@ibm.com\">Tech Zone Support</a> regarding issues with reserving and provisioning Tech Zone environments.<br/>• Contact <a href=\"mailto:automationplatinumdemos@ibm.com\"> Automation Platinum Demos Support</a> regarding issues with setting up and running this demo. |\n\n### **DEMO INSTALLATION AND SETUP**\n\n<details>\n\n<summary>1 - Provision Red Hat OpenShift on IBM Cloud for Cloud Pak for Integration </summary>\n<br/>\n\nInstall Cloud Pak for Integration, or provision a ROKS environment. To reserve your ROKS instance, follow these steps:\n\nProvision Red Hat OpenShift on IBM Cloud (ROKS) ready to install the Cloud Pak for Integration. To provision your ROKS instance, follow these steps: <br/><br/>\n\n1. To reserve a preinstalled Cloud Pak for Integration (CP4I) ROKS 4.10 cluster on Red Hat OpenShift, go <a href=\"https://techzone.ibm.com/my/reservations/create/62f1112aeeb0ab0017dc7608\" target=\"_blank\" rel=\"noreferrer\">here</a> and complete the form.\n<br/>\n\n2. You will receive a confirmation email confirming the instance is provisioning.\n\n<br/>\n\n3. You will receive a second email once the environment is provisioned. You should expect this to take between 30 and 120 minutes. This email contains information, such as URLs, allowing you to connect to the instance.<br/><img src=\"images/prep-1-3.png\" width=\"800\" /><br/>\n\nIf you have issues connecting to your instance, please contact <a href=\"https://ibm-cloud.slack.com/archives/C0124J683GW\" target=\"_blank\" rel=\"noreferrer\">#itz-techzone-support</a>.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<span id=\"ROKSinstall\"></span>\n\n<details>\n\n<summary>2 - Install Cloud Pak for Integration on ROKS cluster</summary>\n\n<br/>\n\n1. Click the **Cluster URL** from the enviroment confirmation email. Log into IBM Cloud using your IBMid.<br/><br/><img src=\"images/prep-2-1.png\" width=\"800\" /><br/>\n\n2. After you are logged in, click <a href=\"https://cloud.ibm.com/catalog/content/ibm-cp-integration-72f63273-f2f6-4e9c-8626-60fe798c57be-global\" target=\"_blank\" rel=\"noreferrer\">here</a> to install Cloud Pak for Integration.<br/><br/>Make sure you are in an **ITZ** account (1) and the **Product version** is **2022.2.1** (2).<br/><br/><img src=\"images/prep-2-2.png\" width=\"800\" /><br/>\n\n3. Scroll down to the **Select your cluster** section. From the list, select the **Redhat Openshift Cluster** (1) that you just created. Then click **Add project** (2).<br/><br/><img src=\"images/prep-2-3.png\" width=\"800\" /><br/>\n\n4. Enter **cp4i** as the **Project** (1) name. Click **Add** (2).<br/><br/><img src=\"images/prep-2-4.png\" width=\"800\" />\n\n<br/>\n\n5. Scroll down to the **Set the deployment values** section and toggle the **Use an existing secret?** slider to **no** (1). Enter a value for csDefaultAdminPassword (2). It is important that you choose a password that is 32 characters in length and is composed of only letters and numbers. You will need this password in step 12.<br/><br/><InlineNotification><strong>NOTE</strong>: Currently password validation is not enforced on this page. If you proceed with an invalid password you will be able to start the installation but it will fail. There is no way to recover from this error other than provisioning a new cluster.</InlineNotification><br/><img src=\"images/prep-2-5.png\" width=\"800\" /><br/>\n\n6. Scroll down to **Optional deployment values**. Click the collapsible section to open them. First, we will select the appropriate parameter for this specific demo.\n\n<br/>\n\n| FIELD | ACTION |\n| ------ | ------- |\n| **cognitiveCarRepairDemo:** | Set to ‘true’ |\n| **drivewayDentDeletionDemo:** | Set to ‘false’ |\n| **eventEnabledInsuranceDemo:** | Set to ‘false’ |\n| **mappingAssistDemo:** | Set to ‘false’ |\n| **weatherChatbotDemo:** | Set to ‘false’ |\n\n<br/><img src=\"images/prep-2-6.png\" width=\"800\" />\n\n<br/>\n\n7. Continue to change the default values parameters using the table below.<br/>If you don't have an SMTP email server and accounts that you can use, you may sign up for a free <a href=\"https://mailtrap.io\" target=\"_blank\" rel=\"noreferrer\">Mailtrap.io</a> account. Mailtrap.io is a free cloud service that mimics an SMTP server. It is used for development/demonstration purposes only.\n\n<br/>\n\n| FIELD | ACTION |\n| ------ | ------- |\n| **demoAPICMailServerHost:** (1)| If you’re using mailtrap, leave this smtp.mailtrap.io. |\n| **demoAPICMailServerPort:** (2)| If you’re using mailtrap, leave this as 2525. |\n| **demoAPICEmailAddress:** (3)| If you’re using mailtrap, you can use any email address. The dummy address ’apicadmin@example.com’ is recommended. If you’re using your own mail server, use an email address that you can receive and read. |\n| **demoAPICMialServerUsername:** (4)| Set this to your SMTP mailtrap username. This is different from your mailtrap login username and can be found by using these [instructions](https://help.mailtrap.io/article/5-smtp-integration). |\n| **demoAPICMailServerPassword:** (5)| Set this to your SMTP mailtrap password. This is different from your mailtrap login password and can be found by using these [instructions](https://help.mailtrap.io/article/5-smtp-integration).|\n\n<br/><img src=\"images/prep-2-7.png\" width=\"800\" />\n\n<br/>\n\n8. Accept the license agreement and click **Install** to install Cloud Pak for Integration. The installation will take up to 150 minutes.<br/><br/><img src=\"images/prep-2-8.png\" width=\"500\" /><br/>\n\n9. You can view the progress in the Schematics progress bar or check the details in view log.<br/><br/><img src=\"images/prep-2-9.png\" width=\"800\" /><br/>\n\n10. When the status is **Active** (1), you will be able to access Cloud Pak for Integration Platform Navigator. Select **Offering Dashboard** (2) on the upper right corner of the page.<br/><br/><img src=\"images/prep-2-10.png\" width=\"800\" /><br/>\n\n11. On the log in page, select the authentication type **IBM provided credentials (admin only)**.<br/><br/><img src=\"images/prep-2-11.png\" width=\"800\" /><br/>\n\n12. Log in using the admin Username \"admin\" and 32-character password you created in step 5.<br/><br/><img src=\"images/prep-2-12.png\" width=\"800\" /><br/>\n\n13. Click **Integration instances**.<br/><br/><img src=\"images/prep-2-13.png\" width=\"800\" />\n\n<br/>\n\n14. The parts of the Cloud Pak (API Connect, App Connect Designer, App Connect Dashboard and Asset Repository) will display here. Additional instances for any of the integration capabilities can be created by selecting **Create capability**.<br/><br/><img src=\"images/prep-2-14.png\" width=\"800\" />\n\n<br/>\n\nYou have successfully completed cluster provisioning, installation of Cloud Pak for Integration, and deployment of API Connect and App Connect. You are ready to proceed.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<span id=\"prereq\"></span>\n\n<details>\n\n<summary>3 - Access your ROKS cluster and install the command line </summary>\n<br/>\n\nIn this section, you access your ROKS cluster and install the OpenShift command line tool. If you already have the command line tool, you can proceed to **Access your ROKS cluster using CLI**.\n\n<br/>\n\n1. Open <a href=\"https://techzone.ibm.com/my/reservations\" target=\"_blank\" rel=\"noreferrer\">My reservations</a> in **IBM Technology Zone**.\n\n<br/>\n\n2. Select you **CP4I ROKS** cluster.<br/><br/><img src=\"images/prep-3-2.png\" width=\"800\" /><br/>\n\n3. Click **Open your Managed OpenShift (ROKS) environment**.<br/><br/><img src=\"./images/prep-3-3.png\" width=\"800\" /><br/>\n\n4. Click **OpenShift web console**.<br/><br/><img src=\"images/prep-3-4.png\" width=\"800\" /><br/>\n\n5. On the web console page, click **?** (1), and select **Command line tools** (2).<br/><br/><img src=\"images/prep-3-5.png\" width=\"800\" /><br/>\n\n6. Follow the links to install the OpenShift Command Line Interface (CLI) for your Operating System.<br/><br/><img src=\"images/prep-3-6.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>4 - Access your ROKS cluster using CLI</summary>\n\n<br/>\n\n1. Log into your OpenShift cluster using CLI. From the dropdown menu in the upper right of the page, under your **username** (1), click **Copy login command** (2).<br/><br/><img src=\"images/prep-4-1.png\" width=\"800\" /><br/>\n\n2. Click **Display Token**.<br/><br/><img src=\"images/prep-4-2.png\" width=\"800\" /><br/>\n\n3. Copy the **login** command.<br/><br/><img src=\"images/prep-4-3.png\" width=\"800\" /><br/>\n\n4. Open your terminal window and paste the **login command** to access your OpenShift cluster.<br/><br/><img src=\"images/prep-4-4.png\" width=\"500\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>5 - Clone the demo assets from a GitHub repository</summary>\n\n<br/>\n\n<InlineNotification>\n<strong>NOTE</strong>: To copy the repo you will need to have the <a href = \"https://cli.github.com\" target=\"_blank\" rel=\"noreferrer\">Git CLI</a> on your machine. If you don’t have it, follow the installation steps described in this page, based on your operating system.\n</InlineNotification>\n\n\n1. To download the scripts to run the demo, create a directory, and from there run the following command:\n\n<br/>\n\n```\ngit clone https://github.com/IBM/platinum-code-eem-.git\n```\n<br/><br/><img src=\"images/prep-5-1.png\" width=\"800\" /><br/>\n\n2. This will download several folders.  The demo material is in the folder ‘demo-script’.  Change directories by running:\n\n<br/>\n\n```\ncd eem-demo/scripts/\n```\n<br/><br/><img src=\"images/prep-5-2.png\" width=\"800\" /><br/>\n\nIn this directory you will see the following two files that you need to set up the demo:\n\n<br/>\n\n**setup-software.sh** - Sets up EEM and Event Streams\n**setup-app.sh** - Sets up the Flight Board application\n\n<br/><img src=\"images/prep-5-2-2.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>6 - Install IBM Event Streams and Endpoint Event Management</summary>\n\n<br/>\n\n1. Run the following command:\n\n<br/>\n\n```\n./setup-software.sh cp4i\n```\n<br/><br/><img src=\"images/prep-6-1.png\" width=\"800\" /><br/>\n\nThis could take 10-20 minutes to complete. It will be complete when Event Endpoint Management and IBM Event Streams has been installed.\n\n<br/>\n\nThe Platform Navigator and Event Streams UI endpoints are displayed at the end of the script for convenience. These will be used later.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>7 - Create the IBM Event Streams topic</summary>\n\n<br/>\n\n1. Navigate to the Event Stream UI outputted in the previous step.<br/><br/><img src=\"images/prep-7-1.png\" width=\"800\" /><br/>\n\n2. Select the **topics** (1) icon, then click **Create Topic** (2).<br/><br/><img src=\"images/prep-7-2.png\" width=\"800\" /><br/>\n\n3. Specify **flight-delays** (1) as the Topic name and select **Next** (2).<br/><br/><img src=\"images/prep-7-3.png\" width=\"800\" /><br/>\n\n4. Click **Next**.<br/><br/><img src=\"images/prep-7-4.png\" width=\"800\" /><br/>\n\n5. Click **Next**.<br/><br/><img src=\"images/prep-7-5.png\" width=\"800\" /><br/>\n\n6. Click **Create topic**.<br/><br/><img src=\"images/prep-7-6.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>8 - Install the Flight Board app</summary>\n\n<br/>\n\n1. Run the following command:\n\n<br/>\n\n```\n./setup-app.sh cp4i\n```\n<br/><br/><img src=\"images/prep-8-1.png\" width=\"800\" /><br/>\n\nThis should take a few minutes to complete.  Once this has completed, it will give you the URL to access the flight board app. There are two URLs one for the flight board, and another for the manager where flights can be delayed. Note that it uses http not https.  If you see a page saying that the application is not available, then you have probably got https in the URL.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>9 - Configure the Event Gateway within API Connect </summary>\n\n<br/>\n\n1. Open the Cloud Pak for Integration Platform Navigator Home page from section 2 above. Using the menu in the top left, expand Administration and select Integration instances.<br/><br/><img src=\"images/prep-9-1.png\" width=\"800\" /><br/>\n\n2. Select **ademo** corresponding to the **API management administration** type.<br/><br/><img src=\"images/prep-9-2.png\" width=\"800\" /><br/>\n\n3. Select **Topology** (1), and click **Register service** (2).<br/><br/><img src=\"images/prep-9-3.png\" width=\"800\" /><br/>\n\n4. Select **Event Gateway Service**.<br/><br/><img src=\"images/prep-9-4.png\" width=\"800\" /><br/>\n\n5. For the configuration of the Event Gateway Service, two endpoints are needed. To retrieve these run the ./get-url.sh script. <br/><br/><img src=\"images/prep-9-5.png\" width=\"800\" /><br/>\n\n6. Configure with the following details:<br/><br/>\n- **Title**: event-gateway-service (1) <br/>\n- **Management endpoint**: the value outputted from the above (note that this **should** begin with https://) (2) <br/>\n- **API endpoint base**: the value outputted from above (note that this should **NOT** begin with https://) (3)\n\n<br/>\n\nClick **Save** (4).<br/><br/><img src=\"images/prep-9-6.png\" width=\"800\" /><br/>\n\n7. The Event Gateway Service needs to be associated with the API Connect Catalog. Navigate to API Management by selecting the menu at the top left and selecting **APIs** under the **Design** section.<br/><br/><img src=\"images/prep-9-7.png\" width=\"800\" /><br/>\n\n8. Select **Manage** (1) and click on the **Sandbox** (2) catalog.<br/><br/><img src=\"images/prep-9-8.png\" width=\"800\" /><br/>\n\n9. Select the **Catalog settings** (1) tab, then the **Gateway** services section (2) and click **Edit** (3).<br/><br/><img src=\"images/prep-9-9.png\" width=\"800\" /><br/>\n\n10. Check the box associated with the **event-gateway-service** (1) and click **Save (2)**.<br/><br/><img src=\"images/prep-9-10.png\" width=\"800\" /><br/>\n\n11. Set up the client certificates.\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>10 - Import and deploy the Flight API </summary>\n\n<br/>\n\nThe Flight API will be exposed through API Connect. This allows controlled, secure exposure to the API.\n\n<br/>\n\n1. Select the **draft** icon (1). Click **Add** and select **API** (2).<br/><br/><img src=\"images/prep-10-1.png\" width=\"800\" /><br/>\n\n2. Scroll down and select **Exiting OpenAPI** (1) and click **Next** (2).<br/><br/><img src=\"images/prep-10-2.png\" width=\"800\" /><br/>\n\n3. Specify **https://raw.githubusercontent.com/IBM/platinum-demo-code-eem/main/resources/FlightAPI.yaml** in the **Or specify a file URL** field (1) and click **Next** (2).<br/><br/><img src=\"images/prep-10-3.png\" width=\"800\" /><br/>\n\n4. Check the **Activate API** (1) option. Click **Next** (2).<br/><br/><img src=\"images/prep-10-4.png\" width=\"800\" /><br/>\n\n5. Click **Develop**.<br/><br/><img src=\"images/prep-10-5.png\" width=\"800\" /><br/>\n\n**[Go to top](#top)**\n\n</details>\n\n<details>\n\n<summary>11 - Create Dev User for the Developer Portal  </summary>\n\n<br/>\n\n1. Click on the **Home** icon (1), and **Manage catalogs** (2).<br/><br/><img src=\"images/prep-11-1.png\" width=\"800\" /><br/>\n\n2. Open **Sandbox**.<br/><br/><img src=\"images/prep-11-2.png\" width=\"800\" /><br/>\n\n3. Open **Catalog settings** (1), then **Portal** (2).<br/><br/><img src=\"images/prep-11-3.png\" width=\"800\" /><br/>\n\n4. Since a developer portal does not already exist, click **Create**.<br/><br/><img src=\"images/prep-11-4.png\" width=\"800\" /><br/>\n\n5. Select **portal-service** (1) from the pull down. Click **Create** (2).<br/><br/><img src=\"images/prep-11-5.png\" width=\"800\" /><br/>\n\n6. The portal will take around 5 minutes to be built, but the URL is immediately displayed. Copy the URL, open a new browser tab, and paste your **Portal URL**. It may take several minutes and browser refreshes to appear.<br/><br/><img src=\"images/prep-11-6.png\" width=\"800\" /><br/>\n\n7. On the Portal page, click **Create account**.<br/><br/><img src=\"images/prep-11-7.png\" width=\"800\" /><br/>\n\n8. Complete the form.<br/><br/>\n\n<InlineNotification><strong>SUGGESTION</strong>: Use devuser as the username, and you are welcome to use your personal email address.</InlineNotification>\n\n<br/><img src=\"images/prep-11-8.png\" width=\"800\" /><br/>\n\n9. To complete your registration, you need to open your email and accept the registration.<br/><br/>\n\n<InlineNotification><strong>NOTE</strong>: If you are using mailtrap, you need to open your mailtrap inbox and accept the registration.</InlineNotification>\n\n<br/><img src=\"images/prep-11-9.png\" width=\"800\" />\n\n<br/>\n\nCongratulations! Your portal developer user has been created and you are ready for the demo.\n\n<br/>\n\n- Download the [demo slides](./slides.pptx)\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\n## **PREPARE TO GIVE THE DEMO**\n\n<details>\n\n<summary>Open these resources before starting demonstration</summary>\n\n<br/>\n\n1. Open the following tabs in a web browser:\n\n<br/>\n\n- IBM Event Streams\n- IBM Cloud Pak for Integration Platform Navigator\n- The Flight Board\n- The Flight Board Manager\n- IBM API Connect Developer Portal\n\n<br/>\n\n**TIP**: These URLs are provided as the output from the setup-software.sh and setup-app.sh scripts. For convenience you can also get the URLs for the above by running the following command from the eem-demo/scripts folder:\n\n<br/>\n\n```\n$ ./get-urls.sh\n```\n\n<br/>\n\n2. Click **Sign in** to log in to the Developer Portal using the devuser account you created in the preparation steps above.\n<br/><br/><img src=\"images/prep-demo-2.png\" width=\"800\" /><br/>\n\n<br/>\n\n3. Enter the **Username** and **Password**. Click **Sign in**.<br/><br/><img src=\"images/prep-demo-3.png\" width=\"800\" /><br/>\n\n4. Prepare a terminal by logging into the OpenShift cluster with the “Copy login command” option from the OpenShift user interface, then executing it within the terminal window.<br/><br/><img src=\"images/prep-demo-4.png\" width=\"800\" /><br/>\n\n\n<br/>\n\n**[Go to top](#top)**\n\n</details>\n\nClick [here](/300-integration-event-endpoint-management/demo-script) to go to the **Demo script** on the next tab.\n","fileAbsolutePath":"/home/runner/work/platinum-demos/platinum-demos/src/pages/300-integration-event-endpoint-management/demo-preparation-sandbox.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}